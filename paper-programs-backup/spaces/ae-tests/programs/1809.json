{
  "number": 1809,
  "originalCode": "// Altitude: Image Y-Position mapped to Altitude - Copy\n// Keywords: altitude, image, asset, view\n// ------------------------------- //\n// Required Programs (dependencies) Altitude: Model\n// Recommended Programs: Altitude prefix\n// Program Description:\n\nimportScripts('paper.js');\n\n(async () => {\n\n  const onProgramAdded = ( paperProgramNumber, scratchpad, sharedData ) => {\n\n    //----------------------------------------------------------------------\n    // Template Variables\n    //----------------------------------------------------------------------\n    const propertyName = 'altitudeProperty';\n\n    const imageWidthInPixels = 50; // Must be positive.\n\n    const aboveZeroImageFile = 'hotairballoon.png';\n    // const aboveZeroImageFile = 'lunarLander.png';\n    // const aboveZeroImageFile = 'birdInAir.png';\n\n    const belowZeroImageFile = 'sub.png';\n    // const belowZeroImageFile = 'girlInWater.png';\n\n    //----------------------------------------------------------------------\n    \n    // Global model for all programs\n    const model = sharedData.model;\n\n    const aboveZeroImageElement = document.createElement( 'img' );\n    aboveZeroImageElement.setAttribute( 'src', `media/images/${aboveZeroImageFile}` );\n    const aboveZeroImageNode = new phet.scenery.Image( aboveZeroImageElement, {\n      minWidth: imageWidthInPixels,\n      maxWidth: imageWidthInPixels\n    } );\n    const belowZeroImageElement = document.createElement( 'img' );\n    belowZeroImageElement.setAttribute( 'src', `media/images/${belowZeroImageFile}` );\n    const belowZeroImageNode = new phet.scenery.Image( belowZeroImageElement, {\n      minWidth: imageWidthInPixels,\n      maxWidth: imageWidthInPixels\n    } );\n\n    sharedData.scene.addChild( aboveZeroImageNode );\n    sharedData.scene.addChild( belowZeroImageNode );\n\n    // This the function to implement to watch the changing Property.\n    const componentListener = value => {\n\n      // Transform the model position into a view position.\n      const valueProperty = model.get( propertyName );\n      const range = valueProperty.range;\n      const viewAltitude =  -( value + range.min ) / range.getLength() * sharedData.displaySize.height;\n      \n      // Set the position of the images.\n      aboveZeroImageNode.centerY = viewAltitude;\n      aboveZeroImageNode.centerX = sharedData.displaySize.width / 2;\n      belowZeroImageNode.centerY = viewAltitude;\n      belowZeroImageNode.centerX = sharedData.displaySize.width / 2;\n\n      // Set the visibility of the images.\n      aboveZeroImageNode.visible = value > 0;\n      belowZeroImageNode.visible = value <= 0;\n    }\n    scratchpad.altitudeListenerId = phet.paperLand.addModelPropertyLink( propertyName, componentListener );\n\n    // Assign components to the scratchpad so that they can be removed later.\n    scratchpad.propertyName = propertyName;\n    scratchpad.aboveZeroImageNode = aboveZeroImageNode;\n    scratchpad.belowZeroImageNode = belowZeroImageNode;\n  };\n\n  const onProgramRemoved = ( paperProgramNumber, scratchpad, sharedData ) => {\n\n    // Global model for all programs\n    const propertyName = scratchpad.propertyName;\n    delete scratchpad.propertyName;\n\n    phet.paperLand.removeModelPropertyLink( propertyName, scratchpad.altitudeListenerId );\n    delete scratchpad.altitudeListenerId;\n\n    sharedData.scene.removeChild( scratchpad.aboveZeroImageNode );\n    delete scratchpad.aboveZeroImageNode;\n    sharedData.scene.removeChild( scratchpad.belowZeroImageNode );\n    delete scratchpad.belowZeroImageNode;\n  }\n\n  // Add the state change handler defined above as data for this paper.\n  await paper.set('data', {\n    paperPlaygroundData: {\n      updateTime: Date.now(),\n      eventHandlers: {\n        onProgramAdded: onProgramAdded.toString(),\n        onProgramRemoved: onProgramRemoved.toString()\n      }\n    }\n  } );\n\n  // Get a canvas object for this paper.\n  const canvas = await paper.get('canvas');\n\n  // Draw \"Hello world\" on the canvas.\n  const ctx = canvas.getContext('2d');\n  ctx.font = '20px sans-serif';\n  ctx.textAlign = 'center';\n  ctx.fillStyle = 'rgb(255,0,0)';\n  ctx.fillText('Altitude', canvas.width / 2, canvas.height / 2 - 10);\n  ctx.fillStyle = 'rgb(0,255,0)';\n  ctx.fillText('Image', canvas.width / 2, canvas.height / 2 + 20);\n})();\n\n\n",
  "currentCode": "// Altitude: Image Y-Position mapped to Altitude - Copy\n// Keywords: altitude, image, asset, view\n// ------------------------------- //\n// Required Programs (dependencies) Altitude: Model\n// Recommended Programs: Altitude prefix\n// Program Description:\n\nimportScripts('paper.js');\n\n(async () => {\n\n  const onProgramAdded = ( paperProgramNumber, scratchpad, sharedData ) => {\n\n    //----------------------------------------------------------------------\n    // Template Variables\n    //----------------------------------------------------------------------\n    const propertyName = 'altitudeProperty';\n\n    const imageWidthInPixels = 50; // Must be positive.\n\n    const aboveZeroImageFile = 'hotairballoon.png';\n    // const aboveZeroImageFile = 'lunarLander.png';\n    // const aboveZeroImageFile = 'birdInAir.png';\n\n    const belowZeroImageFile = 'sub.png';\n    // const belowZeroImageFile = 'girlInWater.png';\n\n    //----------------------------------------------------------------------\n    \n    // Global model for all programs\n    const model = sharedData.model;\n\n    const aboveZeroImageElement = document.createElement( 'img' );\n    aboveZeroImageElement.setAttribute( 'src', `media/images/${aboveZeroImageFile}` );\n    const aboveZeroImageNode = new phet.scenery.Image( aboveZeroImageElement, {\n      minWidth: imageWidthInPixels,\n      maxWidth: imageWidthInPixels\n    } );\n    const belowZeroImageElement = document.createElement( 'img' );\n    belowZeroImageElement.setAttribute( 'src', `media/images/${belowZeroImageFile}` );\n    const belowZeroImageNode = new phet.scenery.Image( belowZeroImageElement, {\n      minWidth: imageWidthInPixels,\n      maxWidth: imageWidthInPixels\n    } );\n\n    sharedData.scene.addChild( aboveZeroImageNode );\n    sharedData.scene.addChild( belowZeroImageNode );\n\n    // This the function to implement to watch the changing Property.\n    const componentListener = value => {\n\n      // Transform the model position into a view position.\n      const valueProperty = model.get( propertyName );\n      const range = valueProperty.range;\n      const viewAltitude =  -( value + range.min ) / range.getLength() * sharedData.displaySize.height;\n      \n      // Set the position of the images.\n      aboveZeroImageNode.centerY = viewAltitude;\n      aboveZeroImageNode.centerX = sharedData.displaySize.width / 2;\n      belowZeroImageNode.centerY = viewAltitude;\n      belowZeroImageNode.centerX = sharedData.displaySize.width / 2;\n\n      // Set the visibility of the images.\n      aboveZeroImageNode.visible = value > 0;\n      belowZeroImageNode.visible = value <= 0;\n    }\n    scratchpad.altitudeListenerId = phet.paperLand.addModelPropertyLink( propertyName, componentListener );\n\n    // Assign components to the scratchpad so that they can be removed later.\n    scratchpad.propertyName = propertyName;\n    scratchpad.aboveZeroImageNode = aboveZeroImageNode;\n    scratchpad.belowZeroImageNode = belowZeroImageNode;\n  };\n\n  const onProgramRemoved = ( paperProgramNumber, scratchpad, sharedData ) => {\n\n    // Global model for all programs\n    const propertyName = scratchpad.propertyName;\n    delete scratchpad.propertyName;\n\n    phet.paperLand.removeModelPropertyLink( propertyName, scratchpad.altitudeListenerId );\n    delete scratchpad.altitudeListenerId;\n\n    sharedData.scene.removeChild( scratchpad.aboveZeroImageNode );\n    delete scratchpad.aboveZeroImageNode;\n    sharedData.scene.removeChild( scratchpad.belowZeroImageNode );\n    delete scratchpad.belowZeroImageNode;\n  }\n\n  // Add the state change handler defined above as data for this paper.\n  await paper.set('data', {\n    paperPlaygroundData: {\n      updateTime: Date.now(),\n      eventHandlers: {\n        onProgramAdded: onProgramAdded.toString(),\n        onProgramRemoved: onProgramRemoved.toString()\n      }\n    }\n  } );\n\n  // Get a canvas object for this paper.\n  const canvas = await paper.get('canvas');\n\n  // Draw \"Hello world\" on the canvas.\n  const ctx = canvas.getContext('2d');\n  ctx.font = '20px sans-serif';\n  ctx.textAlign = 'center';\n  ctx.fillStyle = 'rgb(255,0,0)';\n  ctx.fillText('Altitude', canvas.width / 2, canvas.height / 2 - 10);\n  ctx.fillStyle = 'rgb(0,255,0)';\n  ctx.fillText('Image', canvas.width / 2, canvas.height / 2 + 20);\n})();\n\n\n",
  "printed": false,
  "editorInfo": {},
  "currentCodeUrl": "program.ae-tests.1809.js",
  "currentCodeHash": "",
  "debugUrl": "/api/spaces/ae-tests/programs/1809/debugInfo",
  "claimUrl": "/api/spaces/ae-tests/programs/1809/claim",
  "codeHasChanged": false,
  "debugInfo": "{\"logs\":[]}"
}